<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>게시판 글쓰기</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<script>
  // let index = {
  //   init: function () {
  //     $("#btn-save").on("click", () => {
  //       this.save();
  //     });
  //   },

    function save () {
      let data = {
        title: $("#title").val(),
        content: $("#content").val(),
        writer: $("#writer").val()
      }

      $.ajax({
        type: "POST",
        url: "/api/boards/write",
        data: JSON.stringify(data),
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (res) {
          alert("글작성이 완료되었습니다.")
          location.href = "/boards/list.html"
        }
      });
    }
  // index.init();
</script>

<body>
<div class="container">
  <h2>게시판 글쓰기</h2>
  <main class="form-signin" style="max-width: 100%;">
    <div class="container border rounded flex-md-row mb-4 shadow-sm h-md-250">
      <form>
        <h1 class="h3 m-3 fw-normal">제목</h1>
        <div class="form-floating m-3">
          <input type="text" class="form-control" id="title" placeholder="제목을 입력하세요." required>
          <label for="title">작성자</label>
          <label for="writer"></label>
          <input type="text" class="form-control" id="writer" placeholder="이름을 입력하세요." required>
        </div>
        <div class="input-group"> <div class="custom-file"> <input type="file" class="custom-file-input" id="file" name="file">
          <label class="custom-file-label" for="file">Choose file</label></div>
        </div>
        <div class="form-floating m-3">
          <label for="content">내용</label>
          <textarea class="form-control" rows="5" id="content" style="height: 450px;"></textarea>
        </div>

      </form>
      <button class="w-100 btn btn-lg btn-success" id="btn-save" onclick="save()">작성완료</button>
    </div>
  </main>
</div>
</body>
</html>

